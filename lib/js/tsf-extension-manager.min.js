window.tsfem={g:tsfemL10n.nonce,f:tsfemL10n.i18n,l:function(){var a=jQuery(".tsfem-has-hover-balloon");a.children("*").on({mouseenter:function(a){jQuery(a.target).parents(".tsfem-has-hover-balloon").trigger("mouseenter")},mousemove:function(a){jQuery(a.target).parents(".tsfem-has-hover-balloon").trigger("mousemove",a.pageX)},mouseleave:function(a){jQuery(a.target).parents(".tsfem-has-hover-balloon").trigger("mouseleave")}});a.on({mouseenter:tsfem.j,mousemove:tsfem.o,mouseleave:tsfem.m});jQuery(document.body).on("click touchstart MSPointerDown",
tsfem.u)},j:function(a){a=jQuery(a.target);if(!a.hasClass("tsfem-has-hover-balloon"))return!1;var b=a.data("desc");a.prop("title","");void 0!==b&&0===a.children("div").length&&(a.append('<div class="tsfem-desc-balloon">'+b+"<div></div></div>"),a=a.children("div.tsfem-desc-balloon"),b=a.height()+28,a.css("top","-"+b+"px"))},o:function(a,b){var c=jQuery(a.target);if(!c.hasClass("tsfem-has-hover-balloon"))return!1;var d=c.children("div.tsfem-desc-balloon"),e=d.children("div"),g=b?b:a.pageX,c=g-c.offset().left-
11;if(void 0!==d.offset()){var f=d.width(),h=d.offset().left+f+11;g>h?e.css("left",f+"px"):(d=32-(d.outerWidth()-f)/2+c+11,e.css("left",d+"px"))}else e.css("left","32px")},m:function(a){if(!jQuery(a.target).hasClass("tsfem-has-hover-balloon"))return!1;jQuery(a.target).find("div.tsfem-desc-balloon").remove()},u:function(){var a=jQuery(document.body.target),b=jQuery(".tsfem-has-hover-balloon");a.closest(b).length||b.find("div.tsfem-desc-balloon").remove()},h:function(a){jQuery(a).toggleClass("tsfem-loading")},
c:function(a,b,c){var d="tsfem-success",e=2500;b?2===b&&(d="tsfem-unknown",e=5E3):(d="tsfem-error",e=5E3);e=c?2*e:e;jQuery(a).removeClass("tsfem-loading").addClass(d).text(c).fadeOut(e)},b:function(a){jQuery(a).stop().empty().prop("class","tsfem-ajax").css({opacity:"1",display:"initial"}).prop("style","")},w:function(a){var b=jQuery(a.target),c=0;b.addClass("tsfem-button-disabled");b.prop("disabled",!0);tsfem.b("#tsfem-feed-ajax");tsfem.h("#tsfem-feed-ajax");jQuery.ajax({method:"POST",url:ajaxurl,
i:"json",data:{action:"tsfem_enable_feeds",nonce:tsfem.g},timeout:1E4,async:!0,success:function(a){a=jQuery.parseJSON(a);"success"===a.type&&a.content?(c=1,jQuery(".tsfem-trends-wrap").empty().css("opacity",0).append(a.content).css("opacity",1).find(".tsfem-feed-wrap").css({opacity:0,"max-height":"0px"}).animate({"max-height":"3000px",opacity:1},{queue:!0,duration:2E3},"swing"),setTimeout(function(){tsfem.a("#tsfem-feed-ajax",c,"")},1E3)):("unknown"===a.type?(c=2,jQuery(".tsfem-trends-wrap").empty().append(a.content)):
(b.removeClass("tsfem-button-disabled"),b.prop("disabled",!1)),tsfem.a("#tsfem-feed-ajax",c,""))},error:function(){b.removeClass("tsfem-button-disabled");b.prop("disabled",!1);tsfem.a("#tsfem-feed-ajax",c,"")}})},v:function(a){var b=jQuery(a.target),c=jQuery(".tsfem-button-extension-activate, .tsfem-button-extension-deactivate").not(jQuery(".tsfem-button-disabled"));a=b.data("slug");var d=b.data("case");c.map(function(){jQuery(this).addClass("tsfem-button-disabled");jQuery(this).prop("disabled",!0)});
tsfem.b("#tsfem-extensions-ajax");tsfem.h("#tsfem-extensions-ajax");jQuery.ajax({method:"POST",url:ajaxurl,i:"json",data:{action:"tsfem_update_extension",nonce:tsfem.g,slug:a,"case":d},timeout:1E4,async:!0,success:function(a){a=jQuery.parseJSON(a);var c=a.status.success;a=a.status.notice;if(-1===c)tsfem.a("#tsfem-extensions-ajax",0,a);else if("activate"===d)if(!1===c)tsfem.a("#tsfem-extensions-ajax",0,a);else switch(c){case 10001:tsfem.a("#tsfem-extensions-ajax",0,a);break;case 10002:tsfem.a("#tsfem-extensions-ajax",
0,a);break;case 10003:tsfem.a("#tsfem-extensions-ajax",0,a);break;case 10004:tsfem.a("#tsfem-extensions-ajax",2,a);break;default:b.removeClass("tsfem-button-extension-activate"),b.addClass("tsfem-button-extension-deactivate"),b.data("case","deactivate"),b.text(tsfem.f.Deactivate),tsfem.a("#tsfem-extensions-ajax",1,a)}else"deactivate"===d?!1===c?tsfem.a("#tsfem-extensions-ajax",0,a):(b.removeClass("tsfem-button-extension-deactivate"),b.addClass("tsfem-button-extension-activate"),b.data("case","activate"),
b.text(tsfem.f.Activate),tsfem.a("#tsfem-extensions-ajax",1,a)):tsfem.a("#tsfem-extensions-ajax",0,"")},error:function(){tsfem.a("#tsfem-extensions-ajax",0,"")},complete:function(){c.removeClass("tsfem-button-disabled");c.prop("disabled",!1)}})},a:function(a,b,c){switch(b){case 0:tsfem.c(a,0,c);break;case 1:tsfem.c(a,1,c);break;case 2:tsfem.c(a,2,c);break;default:tsfem.b(a)}},preventDefault:function(a){a.preventDefault();a.stopPropagation()},s:function(a){var b=jQuery('.tsfem-switch-button-container > input[type="checkbox"]:checked');
if("undefined"!==typeof b&&0<b.length){var c=b.parents(".tsfem-switch-button-container-wrap");1>jQuery(a.target).closest(c).length&&b.prop("checked",!1)}},ready:function(a){a("div.updated, div.error, div.notice-warning").insertAfter("section.tsfem-top-wrap");a("a#tsfem-enable-feeds").on("click",tsfem.w);a("a.tsfem-button-extension-activate, a.tsfem-button-extension-deactivate").on("click",tsfem.v);a("a.tsfem-button-disabled").on("click",tsfem.preventDefault);a(document.body).ready(tsfem.l);a(window).on("click",
tsfem.s)}};jQuery(tsfem.ready);
