window.tsfem={i:tsfemL10n.nonce,f:tsfemL10n.i18n,g:function(){var a=jQuery(".tsfem-has-hover-balloon");a.children("*").on({mouseenter:function(b){jQuery(b.target).parents(".tsfem-has-hover-balloon").trigger("mouseenter")},mousemove:function(b){jQuery(b.target).parents(".tsfem-has-hover-balloon").trigger("mousemove",b.pageX)},mouseleave:function(b){jQuery(b.target).parents(".tsfem-has-hover-balloon").trigger("mouseleave")}});a.on({mouseenter:tsfem.o,mousemove:tsfem.s,mouseleave:tsfem.h,mouseout:tsfem.h});
jQuery(document.body).on("click touchstart MSPointerDown",tsfem.v)},o:function(a){var b=jQuery(a.target);if(!b.hasClass("tsfem-has-hover-balloon"))return!1;if((a=b.data("desc"))&&0===b.children("div.tsfem-desc-balloon").length){b.prop("title","");b.append('<div class="tsfem-desc-balloon"><span>'+a+"</span><div></div></div>");a=b.children("div.tsfem-desc-balloon");b=b.outerHeight()+8;a.css("bottom",b+"px");var c=a.closest(".tsfem-pane-content"),b=a.children("span");"undefined"!==c&&0<c.length&&(c=
c.offset().left+c.outerWidth(),b=b.offset().left+b.outerWidth(),b>c-20&&a.css("left",c-b-20+"px"))}},s:function(a,b){var c=jQuery(a.target);if(!c.hasClass("tsfem-has-hover-balloon"))return!1;if(c.data("desc")){var c=c.children("div.tsfem-desc-balloon"),d=c.children("span"),c=c.children("div"),f=c.outerWidth()/2,e=b?b:a.pageX,h=d.offset().left,k=e-h-f;if(1>k)c.css("left","0px");else{var g=d.outerWidth(),d=e>h+g-f?g-f-(g-d.width())/2:k+(g-d.width())/2-f;c.css("left",d+"px")}}},h:function(a){if(!jQuery(a.target).hasClass("tsfem-has-hover-balloon"))return!1;
jQuery(a.target).find("div.tsfem-desc-balloon").remove()},v:function(){var a=jQuery(document.body.target),b=jQuery(".tsfem-has-hover-balloon");a.closest(b).length||b.find("div.tsfem-desc-balloon").remove()},j:function(a){jQuery(a).toggleClass("tsfem-loading")},c:function(a,b,c,d){var f="tsfem-success",e=2500;b?2===b&&(f="tsfem-unknown",e=7500):(f="tsfem-error",e=d?2E4:1E4);e=c?2*e:e;d?jQuery(a).removeClass("tsfem-loading").addClass(f).html(c).fadeOut(e):jQuery(a).removeClass("tsfem-loading").addClass(f).text(c).fadeOut(e)},
b:function(a){jQuery(a).stop().empty().prop("class","tsfem-ajax").css({opacity:"1",display:"initial"}).prop("style","")},A:function(a){var b=jQuery(a.target),c=0;b.prop("disabled")||(b.addClass("tsfem-button-disabled"),b.prop("disabled",!0),tsfem.b("#tsfem-feed-ajax"),tsfem.j("#tsfem-feed-ajax"),jQuery.ajax({method:"POST",url:ajaxurl,m:"json",data:{action:"tsfem_enable_feeds",nonce:tsfem.i},timeout:1E4,async:!0,success:function(a){a=jQuery.parseJSON(a);"success"===a.type&&a.content?(c=1,jQuery(".tsfem-trends-wrap").empty().css("opacity",
0).append(a.content).css("opacity",1).find(".tsfem-feed-wrap").css({opacity:0,"max-height":"0px"}).animate({"max-height":"3000px",opacity:1},{queue:!0,duration:2E3},"swing"),setTimeout(function(){tsfem.a("#tsfem-feed-ajax",c,"",0)},1E3)):("unknown"===a.type?(c=2,jQuery(".tsfem-trends-wrap").empty().append(a.content)):(b.removeClass("tsfem-button-disabled"),b.prop("disabled",!1)),tsfem.a("#tsfem-feed-ajax",c,"",0))},error:function(){b.removeClass("tsfem-button-disabled");b.prop("disabled",!1);tsfem.a("#tsfem-feed-ajax",
c,"",0)}}))},w:function(a){var b=jQuery(a.target),c=jQuery(".tsfem-button-extension-activate, .tsfem-button-extension-deactivate").not(jQuery(".tsfem-button-disabled"));a=b.data("slug");var d=b.data("case");b.prop("disabled")||(c.map(function(){jQuery(this).addClass("tsfem-button-disabled");jQuery(this).prop("disabled",!0)}),tsfem.b("#tsfem-extensions-ajax"),tsfem.j("#tsfem-extensions-ajax"),jQuery.ajax({method:"POST",url:ajaxurl,m:"json",data:{action:"tsfem_update_extension",nonce:tsfem.i,slug:a,
"case":d},timeout:1E4,async:!0,success:function(a){a=jQuery.parseJSON(a);var c=a.status.success;a=a.status.notice;if(-1===c)tsfem.a("#tsfem-extensions-ajax",0,a,0);else if("activate"===d)if(!1===c)tsfem.a("#tsfem-extensions-ajax",0,a,0);else switch(c){case 10001:tsfem.a("#tsfem-extensions-ajax",0,a,0);break;case 10002:tsfem.a("#tsfem-extensions-ajax",0,a,0);break;case 10003:tsfem.a("#tsfem-extensions-ajax",0,a,0);break;case 10004:tsfem.a("#tsfem-extensions-ajax",0,a,1);tsfem.g();break;case 10005:tsfem.a("#tsfem-extensions-ajax",
2,a,0);break;default:b.removeClass("tsfem-button-extension-activate"),b.addClass("tsfem-button-extension-deactivate"),b.data("case","deactivate"),b.text(tsfem.f.Deactivate),tsfem.a("#tsfem-extensions-ajax",1,a,0)}else"deactivate"===d?!1===c?tsfem.a("#tsfem-extensions-ajax",0,a,0):(b.removeClass("tsfem-button-extension-deactivate"),b.addClass("tsfem-button-extension-activate"),b.data("case","activate"),b.text(tsfem.f.Activate),tsfem.a("#tsfem-extensions-ajax",1,a,0)):tsfem.a("#tsfem-extensions-ajax",
0,"",0)},error:function(){tsfem.a("#tsfem-extensions-ajax",0,"",0)},complete:function(){c.removeClass("tsfem-button-disabled");c.prop("disabled",!1)}}))},a:function(a,b,c,d){switch(b){case 0:tsfem.c(a,0,c,d);break;case 1:tsfem.c(a,1,c,d);break;case 2:tsfem.c(a,2,c,d);break;default:tsfem.b(a)}},preventDefault:function(a){a.preventDefault();a.stopPropagation()},u:function(a){var b=jQuery('.tsfem-switch-button-container > input[type="checkbox"]:checked');if("undefined"!==typeof b&&0<b.length){var c=
b.parents(".tsfem-switch-button-container-wrap");1>jQuery(a.target).closest(c).length&&b.prop("checked",!1)}},l:function(){var a=jQuery(".tsfem-extensions-overview-content").children(".tsfem-extension-entry-wrap"),b=a.length;b%2&&2<b&&(b=a.first(),a.last().css({"max-width":b.width()}))},ready:function(a){a("div.updated, div.error, div.notice-warning").insertAfter("section.tsfem-top-wrap");a("a#tsfem-enable-feeds").on("click",tsfem.A);a("a.tsfem-button-extension-activate, a.tsfem-button-extension-deactivate").on("click",
tsfem.w);a("a.tsfem-button-disabled").on("click",tsfem.preventDefault);a(document.body).ready(tsfem.g);a(document.body).ready(tsfem.l);a(window).on("resize orientationchange",tsfem.l);a(window).on("click touchend",tsfem.u)}};jQuery(tsfem.ready);
