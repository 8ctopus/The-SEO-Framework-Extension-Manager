window.tsfem_e_monitor={nonce:tsfem_e_monitorL10n.nonce,i18n:tsfem_e_monitorL10n.i18n,f:tsfem_e_monitorL10n.remote_data_timeout,c:tsfem_e_monitorL10n.remote_crawl_timeout,h:function(b){var c=jQuery("#"+b.target.id+"-wrap");b=jQuery("#"+b.target.id+"-content");c.remove();b.slideDown(500)},g:function(b){var c=jQuery(b.target);c.prop("disabled")||(c.addClass("tsfem-button-disabled tsfem-button-loading"),c.prop("disabled",!0),tsfem.resetAjaxLoader("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax"),
tsfem.setAjaxLoader("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax"),jQuery.ajax({method:"POST",url:ajaxurl,b:"json",data:{action:"tsfem_e_monitor_crawl",nonce:tsfem_e_monitor.nonce,remote_crawl_timeout:tsfem_e_monitor.c},timeout:1E4,async:!0,success:function(a){a=jQuery.parseJSON(a);tsfem.debug&&console.log(a);"undefined"!==typeof a.status&&"undefined"!==typeof a.status.timeout&&(tsfem_e_monitor.c=a.status.timeout);if("undefined"===typeof a.status||"undefined"===typeof a.status.type)tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",
0,"",0);else{var b=a.status.type,c=a.status.notice;"success"===b?tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",1,c,0):"yield_unchanged"===b?tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",2,c,0):("requires_fix"===b&&tsfem_e_monitor.a(a.status.requires_fix),tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",0,c,0))}},error:function(a,b,c){tsfem.debug&&(console.log(a.responseText),console.log(c));tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",
status,"",0)},complete:function(){c.removeClass("tsfem-button-disabled tsfem-button-loading");c.prop("disabled",!1)}}))},i:function(b){var c=jQuery(b.target);c.prop("disabled")||(c.addClass("tsfem-button-disabled tsfem-button-loading"),c.prop("disabled",!0),tsfem.resetAjaxLoader("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax"),tsfem.setAjaxLoader("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax"),
jQuery.ajax({method:"POST",url:ajaxurl,b:"json",data:{action:"tsfem_e_monitor_update",nonce:tsfem_e_monitor.nonce,remote_data_timeout:tsfem_e_monitor.f},timeout:15E3,async:!0,success:function(a){a=jQuery.parseJSON(a);tsfem.debug&&console.log(a);"undefined"!==typeof a.status&&"undefined"!==typeof a.status.timeout&&(tsfem_e_monitor.f=a.status.timeout);if("undefined"===typeof a.status||"undefined"===typeof a.status.type||"undefined"===typeof a.status.content)tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",
0,"",0);else{var b=a.status.type,c=a.status.content,d=a.status.notice;"success"===b?(a=c.issues,c=c.stats,a.found?(jQuery(".tsfem-e-monitor-issues-wrap").empty().css("opacity",0).append(a.data.wrap).animate({opacity:1},{queue:!0,duration:250},"swing"),jQuery.each(a.data.info,function(a,b){setTimeout(function(){jQuery(b).appendTo(".tsfem-e-monitor-issues-wrap > div").css("opacity",0).animate({opacity:1},{queue:!1,duration:250},"swing")},250*a)})):(a='<div class="tsfem-pane-inner-wrap tsfem-e-monitor-issues-wrap tsfem-flex tsfem-flex-row">'+
a.data+"</div>",jQuery(".tsfem-e-monitor-issues-wrap").empty().css("opacity",0).append(a).animate({opacity:1},{queue:!0,duration:1E3},"swing")),jQuery(".tsfem-e-monitor-stats-wrap").empty().css("opacity",0).append(c).animate({opacity:1},{queue:!0,duration:1E3},"swing"),setTimeout(function(){tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",1,d,0)},1E3)):"yield_unchanged"===b?tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",
2,d,0):("requires_fix"===b&&tsfem_e_monitor.a(),tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",0,d,0))}},error:function(a,b,c){tsfem.debug&&(console.log(a.responseText),console.log(c));tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",status,"",0)},complete:function(){c.removeClass("tsfem-button-disabled tsfem-button-loading");
c.prop("disabled",!1)}}))},a:function(){0<jQuery(".tsfem-account-fix").length||1>jQuery(".tsfem-account-info").length||jQuery.ajax({method:"POST",url:ajaxurl,b:"json",data:{action:"tsfem_e_monitor_get_requires_fix",nonce:tsfem_e_monitor.nonce},timeout:3E3,async:!0,success:function(b){b=jQuery.parseJSON(b);"undefined"!==typeof b.html&&b.html&&jQuery(b.html).insertAfter(".tsfem-account-info").hide().slideDown(500)},error:function(b,c,a){tsfem.debug&&(console.log(b.responseText),console.log(a))},complete:function(){}})},
ready:function(b){b("a#tsfem-e-monitor-privacy-readmore").on("click touchstart MSPointerDown",tsfem_e_monitor.h);b("a#tsfem-e-monitor-crawl-button").on("click",tsfem_e_monitor.g);b("a#tsfem-e-monitor-update-button").on("click",tsfem_e_monitor.i)}};jQuery(tsfem_e_monitor.ready);
