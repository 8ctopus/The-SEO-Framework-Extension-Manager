window.tsfem_e_monitor={nonce:tsfem_e_monitorL10n.nonce,i18n:tsfem_e_monitorL10n.i18n,f:tsfem_e_monitorL10n.remote_data_timeout,c:tsfem_e_monitorL10n.remote_crawl_timeout,h:function(a){var c=jQuery("#"+a.target.id+"-wrap");a=jQuery("#"+a.target.id+"-content");c.remove();a.slideDown(500)},g:function(a){var c=jQuery(a.target);c.prop("disabled")||(c.addClass("tsfem-button-disabled tsfem-button-loading"),c.prop("disabled",!0),tsfem.resetAjaxLoader("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax"),
tsfem.setAjaxLoader("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax"),jQuery.ajax({method:"POST",url:ajaxurl,b:"json",data:{action:"tsfem_e_monitor_crawl",nonce:tsfem_e_monitor.nonce,remote_crawl_timeout:tsfem_e_monitor.c},timeout:1E4,async:!0,success:function(b){b=tsfem.convertJSONResponse(b);tsfem.debug&&console.log(b);if(b=b&&b.data||void 0){"undefined"!==typeof b.status.timeout&&(tsfem_e_monitor.c=b.status.timeout);var a=b.status.type,c=b.status.notice;"success"===a?tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",
1,c,0):"yield_unchanged"===a?tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",2,c,0):("requires_fix"===a&&tsfem_e_monitor.a(b.status.requires_fix),tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",0,c,0))}else tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",0,tsfem.i18n.InvalidResponse,0)},error:function(b,a,c){b=tsfem.getAjaxError(b,a,c);tsfem.updatedResponse("#tsfem-e-monitor-cp-pane .tsfem-pane-header .tsfem-ajax",
0,b,0)},complete:function(){c.removeClass("tsfem-button-disabled tsfem-button-loading");c.prop("disabled",!1)}}))},i:function(a){var c=jQuery(a.target);c.prop("disabled")||(c.addClass("tsfem-button-disabled tsfem-button-loading"),c.prop("disabled",!0),tsfem.resetAjaxLoader("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax"),tsfem.setAjaxLoader("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax"),
jQuery.ajax({method:"POST",url:ajaxurl,b:"json",data:{action:"tsfem_e_monitor_update",nonce:tsfem_e_monitor.nonce,remote_data_timeout:tsfem_e_monitor.f},timeout:15E3,async:!0,success:function(b){b=tsfem.convertJSONResponse(b);tsfem.debug&&console.log(b);var a=b&&b.data||void 0;if(a&&a.status){"undefined"!==typeof a.status.timeout&&(tsfem_e_monitor.f=a.status.timeout);var c=a.status.type;b=a.status.content;var d=a.status.notice;"success"===c?(a=b.issues,b=b.stats,a.found?(jQuery(".tsfem-e-monitor-issues-wrap").empty().css("opacity",
0).append(a.data.wrap).animate({opacity:1},{queue:!0,duration:250},"swing"),jQuery.each(a.data.info,function(a,b){setTimeout(function(){jQuery(b).appendTo(".tsfem-e-monitor-issues-wrap > div").css("opacity",0).animate({opacity:1},{queue:!1,duration:250},"swing")},250*a)})):(a='<div class="tsfem-pane-inner-wrap tsfem-e-monitor-issues-wrap tsfem-flex tsfem-flex-row">'+a.data+"</div>",jQuery(".tsfem-e-monitor-issues-wrap").empty().css("opacity",0).append(a).animate({opacity:1},{queue:!0,duration:1E3},
"swing")),jQuery(".tsfem-e-monitor-stats-wrap").empty().css("opacity",0).append(b).animate({opacity:1},{queue:!0,duration:1E3},"swing"),setTimeout(function(){tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",1,d,0)},1E3)):"yield_unchanged"===c?tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",2,d,0):("requires_fix"===
c&&tsfem_e_monitor.a(),tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",0,d,0))}else tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",0,tsfem.i18n.InvalidResponse,0)},error:function(a,c,e){a=tsfem.getAjaxError(a,c,e);tsfem.updatedResponse("#tsfem-e-monitor-issues-pane .tsfem-pane-header .tsfem-ajax, #tsfem-e-monitor-stats-pane .tsfem-pane-header .tsfem-ajax",
0,a,0)},complete:function(){c.removeClass("tsfem-button-disabled tsfem-button-loading");c.prop("disabled",!1)}}))},a:function(){0<jQuery(".tsfem-account-fix").length||1>jQuery(".tsfem-account-info").length||jQuery.ajax({method:"POST",url:ajaxurl,b:"json",data:{action:"tsfem_e_monitor_get_requires_fix",nonce:tsfem_e_monitor.nonce},timeout:3E3,async:!0,success:function(a){a=tsfem.convertJSONResponse(a);tsfem.debug&&console.log(a);(a=a&&a.data||void 0)&&a.html&&jQuery(a.html).insertAfter(".tsfem-account-info").hide().slideDown(500)},
error:function(a,c,b){tsfem.debug&&(console.log(a.responseText),console.log(b))},complete:function(){}})},ready:function(a){a("a#tsfem-e-monitor-privacy-readmore").on("click touchstart MSPointerDown",tsfem_e_monitor.h);a("a#tsfem-e-monitor-crawl-button").on("click",tsfem_e_monitor.g);a("a#tsfem-e-monitor-update-button").on("click",tsfem_e_monitor.i)}};jQuery(tsfem_e_monitor.ready);
